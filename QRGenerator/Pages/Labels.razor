@page "/Labels"
@using System.Reflection
<h2>Labels</h2>

<div class="user-input">
    <input class="input"    id="product-name"    @bind="productName"     placeholder="Product Name"/>
    <input class="input"    id="product-tpn"     @Bind="productTPN"      placeholder="Product TPN"/>
    <input class="input"    id="product-ean"     @Bind="productEAN"      placeholder="Product EAN"/>
    <input class="input"    id="product-price"   @Bind="productPrice"    placeholder="Product Price"/>
    
    <button class="add-label" @onclick="AddLabel">Add Label</button>
</div>

<div class="output">
    
</div>

@code {

    // Input bindings
    private string productName;

    private string productTPN;

    private string productEAN;

    private string productPrice;

    // List for storing each product inputted. Will have a max size of 10.
    private List<Product> _products = new();

    private void AddLabel()
    {
        if (_products.Count <= 10)
        {
            // Create new product and add it to the list
            var product = new Product()
            {
                productName     = productName,
                productTPN      = productTPN,
                productEAN      = productEAN,
                productPrice    = productPrice
            };
            
            // Add product to the list
            _products.Add(product);
            
            // Clear user input fields
            productName     = string.Empty;
            productTPN      = string.Empty;
            productEAN      = string.Empty;
            productPrice    = string.Empty;
        }
    }

}